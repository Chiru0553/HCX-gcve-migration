<!-- BEGIN_TF_DOCS -->

###### nsx_fw_segments folder

This folder creates firewall segments for each vsys. 
Sub-folders within this folder follows the naming convention fw-<vsys>-<region>-<id>

This module allows to create nsx_shared firewall segments in NSX console. 

- terraform init

- terraform plan

- terraform apply

## folder details

     This repo is sub divided into below folders :
```
     - fw-legacy-montreal-01
     - fw-npd-montreal-01
     - fw-ppd-montreal-01
     - fw-prd-montreal-01
```

## Details of task performed by subfolder "fw-legacy-montreal-01"

Below are the task performed by each terraform script:

- fw-legacy-montreal-01.tf creates

     - resource "nsxt_policy_tier1_gateway" with name "legacy_nic3_router" defines the "Tier-1 Logical router for security zone it-bo-prd-mtl-legacy-opt-local"(it Creates the Palo Tier-1)
     - resource "nsxt_policy_segment" with name "legacy_nic3_router_segment" defines the "Downlink segment for the security zone under FW-LEGACY-MONTREAL-11" (it Creates the Palo Segment)
     - resource "nsxt_policy_tier1_gateway_interface" with name "legacy_nic3_router_svcInterface" defines the "Service Connection to Palo t1-it-bo-prd-mtl-legacy-opt-local" (it will Creates Service Interface on PaloTier-1 to Palo Segment)
     - resource "nsxt_policy_static_route" with name "legacy_nic3_router_staticroute" It Creates Static Route on Palo Tier-1 to Palo VM using Service Interface
     - resource "nsxt_policy_tier1_gateway" with name "legacy_nic4_router" it Creates Palo Alto Tier-1 in nic4 router
     - resource "nsxt_policy_segment" with name "legacy_nic4_router_segment" it Creates Palo Segment in nic4 router
     - resource "nsxt_policy_tier1_gateway_interface" with name "legacy_nic4_router_svcInterface" it will create Service Interface on PaloTier-1 to Palo Segment in nic4
     - resource "nsxt_policy_static_route" with name "legacy_nic4_router_staticroute" it Creates Static Route nic4 on Palo Tier-1 to Palo VM using Service Interface

- ha-legacy.tf creates

     resource "nsxt_policy_segment" with name "legacy01-ha_router_segment" defines the "HA segment for all the NGFW-Legacy VM"

- ls-gne1pc01-vm-10.13.19.0-24.tf creates

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet6_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.13.133.0-24.tf creates

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet8_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.14.19.0-24.tf creates

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet10_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.15.208.0-21.tf creates

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet2_router_segment"  defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.15.236.0-23.tf cteates

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet7_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.15.255.0-24.tf creates 

     resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet11_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.153.32-30-delete.tf creates

     - resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet3_router_segment" defines the "VM segment for the Application VMs"
     - resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet4_router_segment" defines the  "VM segment for the Application VMs"
.
.
.
- ls-gne1pc01-vm-segments.tf creates

     resource "nsxt_policy_segment" with name "default" defines the "VM segment for the Application VMs"

- ngfw-uplink_mgmt-01.tf creates

     - resource "nsxt_policy_segment" with name "management_router_segment" defines the "Uplink segment for all the NGFW VMs"
     - resource "nsxt_policy_segment" with name "uplink_router_segment" defines the "management segment for all the NGFW VMs"
     
## Details of task performed by subfolder "fw-npd-montreal-01"

     Below are the task performed by each terraform script:

- fw-nonprd-montreal-01.tf creates

     - resource "nsxt_policy_tier1_gateway" with name "npd_nic3_router" defines the "Tier-1 Logical router for security zone ew-ebe-npd-mtl-shared-nonopt-ext "
     - resource "nsxt_policy_segment" with name "npd_nic3_router_segment" defines the "Downlink segment for the security zone under FW-NONPROD-MONTREAL-1"
     - resource "nsxt_policy_tier1_gateway_interface" "npd_nic3_router_svcInterface" defines the "Service Connection to Palo t1-ew-ebe-npdx-mtl-shared-nonopt-ext"
     - resource "nsxt_policy_static_route" with name "npd_nic3_router_staticroute" It Creates Static Route on Palo Tier-1 to Palo VM using Service Interface
     - resource "nsxt_policy_tier1_gateway" with name "npd_nic4_router" defines the "Tier-1 Logical router for security zone ew-eos-npd-lcl-mtl-ignio-nonopt"
     - resource "nsxt_policy_segment" with name "npd_nic4_router_segment" defines the "Downlink segment for the security zone under FW-NONPROD-MONTREAL-1"
     - resource "nsxt_policy_tier1_gateway_interface" with name "npd_nic4_router_svcInterface" it Creates Service Interface on PaloTier-1 to Palo Segment
     - resource "nsxt_policy_static_route" with name "npd_nic4_router_staticroute" it Creates Static Route on Palo Tier-1 to Palo VM using Service Interface

- ha-nonprod.tf creates

     - resource "nsxt_policy_segment" with name "npd01-ha_router_segment" defines the "HA segment for all the NGFW-NPD VM"

- ls-gne1pc01-vm-segments.tf creates

     - resource "nsxt_policy_segment" with name "default" "VM segment for the Application VMs"

## Details of task performed by subfolder "fw-ppd-montreal-01"

     Below are the task performed by each terraform script:

- fw-ppd-montreal-01.tf creates

     - resource "nsxt_policy_tier1_gateway" with name "ppd_nic3_router" defines the "Tier-1 Logical router for security zone t1-atip-bo-stg-nonopt-ext "
     - resource "nsxt_policy_segment" with name "ppd_nic3_router_segment" defines the "Downlink segment for the security zone under FW-PPD-MONTREAL-1"
     - resource "nsxt_policy_tier1_gateway_interface" with name "ppd_nic3_router_svcInterface" defines the "Service Connection to Palo t1-atip-bo-stg-nonopt-ext"
     - resource "nsxt_policy_static_route" with name "ppd_nic3_router_staticroute" it Creates Static Route on Palo Tier-1 to Palo VM using Service Interface
     - resource "nsxt_policy_tier1_gateway" with name "ppd_nic4_router" defines the "Tier-1 Logical router for security zone t1-ew-tjs-ppd-mtl-shared-nonopt-local"
     - resource "nsxt_policy_segment" with name "ppd_nic4_router_segment" defines the "Downlink segment for the security zone under FW-PPD-MONTREAL-1"
     - resource "nsxt_policy_tier1_gateway_interface" with name "ppd_nic4_router_svcInterface" defines the "Service Connection to Palo                     t1-ew-tjs-ppd-mtl-shared-nonopt-local"
     - resource "nsxt_policy_static_route"with name "ppd_nic4_router_staticroute" it Creates Static Route on Palo Tier-1 to Palo VM using Service Interface

- ha-ppd.tf creates

     - resource "nsxt_policy_segment" with name "ppd01-ha_router_segment" defines the "HA segment for all the NGFW-ppd VM"

- ls-gne1pc01-vm-10.132.2.32-28.tf creates

     - resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet2_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-10.229.2.0-24 .tf creates

     - resource "nsxt_policy_segment" with name "gne1pc01-vm-subnet1_router_segment" defines the "VM segment for the Application VMs"

- ls-gne1pc01-vm-segments.tf creates

     - resource "nsxt_policy_segment" with name "default" define the "VM segment for the Application VMs"

## Details of task performed by subfolder "fw-prd-montreal-01"
this folder is empty

###### nsx_shared_segments folder

This folder allows to create nsx_shared elements in NSX console. 

- terraform init

- terraform plan

- terraform apply

## folder details

This repo is sub divided into below folders :
```
- fw-shared-backup-uplink-mgmt
```
fw-shared-backup-uplink-mgmt subfolder deals with creation of shared backup management uplink for netbackup connection for VMs inside private cloud gne01pc01.

## Details of task performed by subfolder "fw-shared-backup-uplink-mgmt"

Below are the task performed by each terraform script:

- nsx-inventory-groups-bk.tf creates 
     resource "nsxt_policy_group" with name "sg-backupinfra" defines the IPs of NBU Master and public side GCP backup vms    
     resource "nsxt_policy_group" with name "sg-backupsegments" defines Backup Segments Group created using Terraform"
- nsx-inventory-svcports-bk.tf creates
     resource "nsxt_policy_service" with name "cn-nbu" defines the Bkup ports service provisioned by Terraform
     resource "nsxt_policy_service" with name "cn-nfs" defines the Bkup ports service provisioned by Terraform
     resource "nsxt_policy_service" with name "cn-smb" Bkup ports service provisioned by Terraform
- nsx-networking-segments-bk.tf creates
     resource "nsxt_policy_segment" with name "gne1pc01-bk-subnet1_router_segment" defines the Backup segment for all the VMs
     resource "nsxt_policy_segment" with name "gne1pc01-bk-subnet2_router_segment" defines the Backup segment for all the VMs
     resource "nsxt_policy_segment" with name "gne1pc01-bk-subnet3_router_segment" defines the Backup segment for all the VMs
- nsx-networking-segments-vrops_frontend.tf creates
     resource "nsxt_policy_segment" with name "gne1pc01-subnet1-vrops-frontend_router_segment" defines the Backup segment for all the VMs
     resource "nsxt_policy_segment" with name "gne1pc01-subnet2-vrops-frontend_router_segment" defines the Backup segment for all the VMs
- nsx-security-dfw-bk.tf creates
     resource "nsxt_policy_security_policy" with name "cn-backup" defines the Terraform provisioned Security Policy
- providers.tf creates
     workspaces with name "gcp-gcve-gne1pc01_nsx_shared_segments-prd" defines the user name and password
     
###### vsphere_vm_deployments folder

## folder details

This repo is sub divided into below folders :
...
palo-vm-deployments
...
palo-vm-deployments subfolder deals with vsphere_vm_deployments for netbackup connection for VMs inside private cloud gne01pc01.

## Details of task performed by subfolder palo-vm-deployments

- ls-gne1pc01-palo-vm.tf creates
     resource "vsphere_virtual_machine" with name "vm" creates in "Virtual Appliances/Network Security" folder and OVF will deploy with remote ovf url.
- providers.tf creates
     workspaces with name "gcp-gcve-gne1pc01_palo_vm_deployments-prd" defines the user name and password
     

<!-- END_TF_DOCS -->
