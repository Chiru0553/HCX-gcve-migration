
data "vsphere_datacenter" "dc" {
  name = var.data_center
}

data "vsphere_compute_cluster" "cluster" {
  name          = "${var.cluster}"
  datacenter_id = data.vsphere_datacenter.dc.id
}

data "vsphere_datastore" "datastore" {
  name          = var.workload_datastore
  datacenter_id = data.vsphere_datacenter.dc.id
}

data "vsphere_resource_pool" "pool" {
  #name          = format("%s%s%s%s", data.vsphere_datacenter.dc.name,"/", data.vsphere_compute_cluster.cluster.name, "/Resources/Workload")
  name          = format("%s%s", data.vsphere_compute_cluster.cluster.name, "/Resources/Workload")
  datacenter_id = data.vsphere_datacenter.dc.id
}
 
data "vsphere_host" "host" {
  name          = var.esxi_host
  datacenter_id = data.vsphere_datacenter.dc.id
}
 
data "vsphere_network" "pa-network-mgmt" {
  name          = "ls-${var.privcloud}-pa-mgmt"
  datacenter_id = data.vsphere_datacenter.dc.id
}

# data "vsphere_network" "pa-network-ha" {
#   name          = "ls-${var.privcloud}-pa-ppd01-ha"
#   datacenter_id = data.vsphere_datacenter.dc.id
# }

# data "vsphere_network" "pa-network-uplink" {
#   name          = "ls-${var.privcloud}-pa-uplink"
#   datacenter_id = data.vsphere_datacenter.dc.id
# }

# data "vsphere_network" "pa-network-ppd01" {
#   name          = "ls-${var.privcloud}-pa-ppd01-nic3"
#   datacenter_id = data.vsphere_datacenter.dc.id
# }

#data "vsphere_folder" "folder" {
#  path = "/${data.vsphere_datacenter.dc.name}/${data.vsphere_compute_cluster.cluster.name}/Workload"
#}

###########################################################

#data "vsphere_ovf_vm_template" "ovf" {
#  name             = "PA-OVF"
#  resource_pool_id = vsphere_resource_pool.rp.id
#  datastore_id     = data.vsphere_datastore.ds.id
#  host_system_id   = data.vsphere_host.hs.id
#  remote_ovf_url   = "http://mtl-hpovdav01p.cn.ca/vmware/pa/PA-VM-ESX-9.1.12.ova"

#  ovf_network_map = {
#    "Network 1": data.vsphere_network.net.id
#  }
#}