
############################### NBU ########################

resource "nsxt_policy_service" "cn-nbu" {
  description  = "Bkup ports service provisioned by Terraform"
  display_name = "CN-NBU"

  l4_port_set_entry {
    display_name      = "NBU"
    description       = "Backup Ports"
    protocol          = "TCP"
	#source_ports 	  = []
    destination_ports = ["13724","1556"]
  }


}


############################### NFS ########################

resource "nsxt_policy_service" "cn-nfs" {
  description  = "Bkup ports service provisioned by Terraform"
  display_name = "CN-NFS"

  l4_port_set_entry {
    display_name      = "CN-NFS-TCP"
    description       = "Backup Ports"
    protocol          = "TCP"
	source_ports 	  = []
    destination_ports = ["111","2049","2052"]
  }
  
  l4_port_set_entry {
    display_name      = "CN-NFS-UDP"
    description       = "Backup Ports"
    protocol          = "UDP"
	source_ports 	  = []
    destination_ports = ["111","2049","2052"]
  }


}

############################### SMB ########################

resource "nsxt_policy_service" "cn-smb" {
  description  = "Bkup ports service provisioned by Terraform"
  display_name = "CN-SMB"

  l4_port_set_entry {
    display_name      = "SMB-TCP"
    description       = "Backup Ports"
    protocol          = "TCP"
	#source_ports 	  = []
    destination_ports = ["445","137","138","139"]
  }
  
  l4_port_set_entry {
    display_name      = "SMB-UDP"
    description       = "Backup Ports"
    protocol          = "UDP"
	#source_ports 	  = []
    destination_ports = ["445"]
  }


}